utils.loadPlatform("ti.platforms.evm5505");

/* The following DSP/BIOS Features are enabled.  */
bios.enableRealTimeAnalysis(prog);
bios.enableRtdx(prog);
bios.enableTskManager(prog);

bios.GBL.MEMORYMODEL = "LARGE";
bios.MEM.NOMEMORYHEAPS = 0;
bios.MEM.ARGSSEG = prog.get("SARAM");
bios.MEM.STACKSEG = prog.get("SARAM");
bios.MEM.BSSSEG = prog.get("SARAM");
bios.MEM.CONSTSEG = prog.get("SARAM");
bios.MEM.DATASEG = prog.get("SARAM");
bios.MEM.CIOSEG = prog.get("SARAM");
bios.MEM.instance("SARAM").createHeap = 1;
bios.MEM.BIOSOBJSEG = prog.get("SARAM");
bios.MEM.MALLOCSEG = prog.get("SARAM");
bios.MEM.SYSDATASEG = prog.get("SARAM");
bios.MEM.OBJSEG = prog.get("SARAM");

bios.PRD.USECLK = 0;
bios.CLK.ENABLECLK = 0;
bios.GBL.MODIFYCLKMD = 0;

bios.TSK.create("mainTsk");
bios.TSK.instance("mainTsk").order = 1;
bios.TSK.instance("mainTsk").priority = 7;
//bios.TSK.instance("mainTsk").fxn = prog.extern("pspBiosSampleApp");
bios.TSK.instance("mainTsk").fxn = prog.extern("CSL_acTest");
bios.TSK.instance("mainTsk").priority = 1;
bios.TSK.instance("mainTsk").stackSize = 2048;
bios.TSK.instance("mainTsk").stackSize = 4096;
bios.TSK.instance("mainTsk").stackMemSeg = prog.get("SARAM");
bios.TSK.instance("TSK_idle").order = 1;
bios.TSK.instance("mainTsk").order = 2;
bios.TSK.create("TSK_MUSBMSCTask");
bios.TSK.instance("TSK_MUSBMSCTask").order = 4;
bios.TSK.instance("TSK_MUSBMSCTask").stackSize = 4096;
bios.TSK.instance("TSK_MUSBMSCTask").priority = 8;
bios.TSK.instance("TSK_MUSBMSCTask").fxn = prog.extern("MSCTask");
bios.TSK.instance("mainTsk").priority = 10;
bios.TSK.create("TSK_MUSBMainTask");
bios.TSK.instance("TSK_MUSBMainTask").order = 5;
bios.TSK.instance("TSK_MUSBMainTask").stackSize = 4096;
bios.TSK.instance("TSK_MUSBMainTask").priority = 7;
bios.TSK.instance("TSK_MUSBMainTask").fxn = prog.extern("MainTask");
bios.SEM.create("SEM_MUSBMainTaskExited");
bios.SEM.create("SEM_AbortTransferDone");
bios.SEM.create("SEM_ConnectDeviceDone");
bios.SEM.create("SEM_ResetDeviceDone");
bios.SEM.create("SEM_MUSBDMARxComplete");
bios.SEM.OBJMEMSEG = prog.get("SARAM");
bios.SEM.create("SEM_ClearEndpointStalltDone");
bios.MBX.create("MBX_musb");
bios.MBX.instance("MBX_musb").messageSize = 2;
bios.MBX.instance("MBX_musb").length = 16;
bios.MBX.instance("MBX_musb").elementSeg = prog.get("SARAM");
bios.MBX.create("MBX_msc");
bios.MBX.instance("MBX_msc").elementSeg = prog.get("SARAM");
bios.MBX.instance("MBX_msc").messageSize = 2;
bios.MBX.instance("MBX_msc").length = 16;
bios.SEM.create("SEM_MUSBMSCTaskExited");
bios.SEM.create("SEM_DisconnectDeviceDone");
bios.TSK.instance("TSK_MUSBMSCTask").stackMemSeg = prog.get("SARAM");
bios.TSK.instance("TSK_MUSBMainTask").stackMemSeg = prog.get("SARAM");
bios.HWI.instance("HWI_INT20").fxn = prog.extern("USBisr");
bios.HWI.instance("HWI_INT20").useDispatcher = 1;
bios.MEM.STACKSIZE = 0x0800;
bios.MEM.SYSSTACKSIZE = 0x0200;
bios.TSK.OBJMEMSEG = prog.get("SARAM");
bios.TSK.STACKSEG = prog.get("SARAM");
bios.TSK.STACKSIZE = 2048;
bios.TSK.SYSSTACKSIZE = 2048;
bios.TSK.instance("TSK_idle").stackMemSeg = prog.get("SARAM");
bios.TSK.STACKSIZE = 1024;
bios.TSK.SYSSTACKSIZE = 256;
bios.TSK.instance("TSK_idle").stackMemSeg = prog.get("DARAM");
bios.TSK.instance("TSK_idle").stackMemSeg = prog.get("SARAM");
bios.MEM.STACKSIZE = 0x1000;
bios.MEM.SYSSTACKSIZE = 0x0400;
bios.MEM.ARGSSIZE = 0x0040;
bios.MEM.instance("SARAM").heapSize = 0x8000;
bios.MEM.instance("SARAM").heapSize = 0x3f80;
bios.MEM.STACKSIZE = 0x0800;
bios.MEM.SYSSTACKSIZE = 0x0200;
bios.SEM.create("SEM_I2cDevBusy");
bios.SEM.instance("SEM_I2cDevBusy").comment = "posted when 12c is engaged in a transaction";
bios.SEM.instance("SEM_I2cDevBusy").count = 1;
bios.MEM.instance("SARAM").len = 0x0001;
bios.MEM.instance("VECT").base = 0x027e00;
bios.MEM.instance("SARAM").len = 0x1fe00;
bios.MEM.instance("SARAM").comment = "32 blocks of 8K bytes of on-chip Single-Access RAM";
bios.SEM.create("SEM_RTCAlarmOff");
bios.SEM.instance("SEM_RTCAlarmOff").comment = "Semaphore posted when current time reaches alarm time";
bios.TSK.instance("TSK_MUSBMSCTask").order = 3;
bios.TSK.instance("TSK_MUSBMainTask").order = 4;
bios.HWI.instance("HWI_INT8").fxn = prog.extern("DMA_Isr");
bios.HWI.instance("HWI_INT8").useDispatcher = 1;
bios.TSK.instance("mainTsk").priority = 15;
bios.TSK.instance("mainTsk").stackSize = 8192;
bios.TSK.instance("mainTsk").sysStackSize = 512;
bios.TSK.instance("mainTsk").sysStackSize = 1024;
bios.TSK.instance("mainTsk").stackSize = 4096;
bios.TSK.instance("mainTsk").sysStackSize = 256;
bios.MEM.STACKSIZE = 0x1000;
bios.MEM.STACKSIZE = 0x0800;
bios.MEM.SYSSTACKSIZE = 0x0400;
bios.TSK.instance("mainTsk").sysStackSize = 4096;
bios.MEM.STACKSIZE = 0x4096;
bios.TSK.instance("TSK_MUSBMainTask").comment = "USB Main task";
bios.TSK.instance("TSK_MUSBMainTask").fxn = prog.extern("USBMainTask");
bios.TSK.instance("TSK_MUSBMSCTask").comment = "USB Mass Storage Class Task";
bios.TSK.instance("TSK_MUSBMSCTask").fxn = prog.extern("USBMSCTask");
bios.TSK.instance("mainTsk").comment = "PSP BIOS Sample Application task";
bios.TSK.instance("mainTsk").stackSize = 5120;
bios.TSK.instance("mainTsk").stackSize = 8192;
bios.TSK.instance("mainTsk").stackSize = 4096;
bios.TSK.instance("TSK_MUSBMainTask").stackSize = 2048;
bios.TSK.instance("TSK_MUSBMSCTask").stackSize = 2048;
bios.TSK.instance("TSK_MUSBMSCTask").stackSize = 4096;
bios.TSK.instance("TSK_MUSBMainTask").stackSize = 4096;
bios.MEM.ARGSSEG = prog.get("DARAM");
bios.MEM.GBLINITSEG = prog.get("DARAM");
bios.MEM.TRCDATASEG = prog.get("DARAM");
bios.MEM.SYSDATASEG = prog.get("DARAM");
bios.MEM.OBJSEG = prog.get("DARAM");
bios.MEM.STACKSEG = prog.get("DARAM");
bios.MEM.BIOSSEG = prog.get("DARAM");
bios.MEM.SYSINITSEG = prog.get("DARAM");
bios.MEM.HWISEG = prog.get("DARAM");
bios.MEM.RTDXTEXTSEG = prog.get("DARAM");
bios.MEM.instance("DARAM").createHeap = 1;
bios.TSK.instance("mainTsk").stackMemSeg = prog.get("DARAM");
bios.TSK.STACKSEG = prog.get("DARAM");
bios.TSK.instance("TSK_idle").stackMemSeg = prog.get("DARAM");
bios.TSK.instance("TSK_MUSBMainTask").stackMemSeg = prog.get("DARAM");
bios.TSK.instance("TSK_MUSBMSCTask").stackMemSeg = prog.get("DARAM");
bios.TSK.instance("mainTsk").stackMemSeg = prog.get("SARAM");
bios.TSK.instance("TSK_idle").stackMemSeg = prog.get("SARAM");
bios.TSK.instance("TSK_MUSBMainTask").stackMemSeg = prog.get("SARAM");
bios.TSK.instance("TSK_MUSBMSCTask").stackMemSeg = prog.get("SARAM");
bios.MEM.STACKSEG = prog.get("SARAM");
bios.MEM.CINITSEG = prog.get("DARAM");
bios.MEM.CONSTSEG = prog.get("SARAM");
bios.MEM.CIOSEG = prog.get("SARAM");
bios.MEM.SWITCHSEG = prog.get("DARAM");
bios.SEM.OBJMEMSEG = prog.get("DARAM");
bios.MBX.instance("MBX_msc").elementSeg = prog.get("DARAM");
bios.MBX.instance("MBX_msc").comment = "MSC Mailbox";
bios.MBX.instance("MBX_musb").comment = "MUSB Mailbox";
bios.MBX.instance("MBX_musb").elementSeg = prog.get("DARAM");
bios.TSK.OBJMEMSEG = prog.get("DARAM");
bios.TSK.instance("mainTsk").stackMemSeg = prog.get("DARAM");
bios.TSK.instance("mainTsk").stackMemSeg = prog.get("SARAM");
bios.MEM.instance("SARAM").heapSize = 0x3f00;
bios.MEM.instance("SARAM").heapSize = 0x3f80;
bios.MEM.CIOSEG = prog.get("DARAM");
bios.MEM.PINITSEG = prog.get("DARAM");
bios.MEM.BIOSOBJSEG = prog.get("DARAM");
bios.MEM.MALLOCSEG = prog.get("DARAM");
bios.MEM.instance("SARAM").heapSize = 0x396a;
bios.MEM.instance("SARAM").heapSize = 0x3f80;
bios.MEM.REUSECODESPACE = 0;
bios.LOG.create("trace");
/* bios.LOG.instance("trace").bufLen = 256; */
bios.LOG.instance("trace").bufLen = 4096;
bios.LOG.instance("trace").comment = "LOG_printf";
/* bios.HWI.instance("HWI_INT14").fxn = prog.extern("i2s_txIsr"); */
/* bios.HWI.instance("HWI_INT14").useDispatcher = 1;
bios.HWI.instance("HWI_INT14").interruptMask1 = "self"; */
bios.TSK.instance("TSK_MUSBMainTask").priority = 8;
bios.TSK.instance("TSK_MUSBMSCTask").order = 1;
bios.TSK.instance("TSK_idle").order = 2;
bios.TSK.instance("mainTsk").order = 3;
bios.TSK.instance("TSK_MUSBMSCTask").priority = 7;
bios.TSK.instance("TSK_idle").order = 1;
bios.TSK.instance("mainTsk").order = 2;
bios.TSK.instance("TSK_MUSBMainTask").order = 3;
bios.TSK.instance("TSK_MUSBMSCTask").order = 4;
bios.TSK.instance("TSK_MUSBMSCTask").priority = 8;
bios.TSK.instance("TSK_MUSBMainTask").order = 1;
bios.TSK.instance("TSK_idle").order = 2;
bios.TSK.instance("mainTsk").order = 3;
bios.TSK.instance("TSK_MUSBMainTask").priority = 7;
bios.TSK.instance("TSK_idle").order = 1;
bios.TSK.instance("mainTsk").order = 2;
bios.TSK.instance("TSK_MUSBMSCTask").order = 3;
bios.TSK.instance("TSK_MUSBMainTask").order = 4;
bios.TSK.instance("TSK_MUSBMainTask").priority = 8;
bios.TSK.instance("TSK_MUSBMSCTask").order = 1;
bios.TSK.instance("TSK_idle").order = 2;
bios.TSK.instance("mainTsk").order = 3;
bios.TSK.instance("TSK_MUSBMSCTask").priority = 7;
bios.TSK.instance("TSK_idle").order = 1;
bios.TSK.instance("mainTsk").order = 2;
bios.TSK.instance("TSK_MUSBMainTask").order = 3;
bios.TSK.instance("TSK_MUSBMSCTask").order = 4;
bios.TSK.instance("TSK_MUSBMSCTask").priority = 8;
bios.SWI.create("SWI_Process_USB_Input");
bios.SWI.instance("SWI_Process_USB_Input").order = 2;
bios.SWI.instance("SWI_Process_USB_Input").priority = 5;
bios.SWI.instance("SWI_Process_USB_Input").fxn = prog.extern("usb_input");
bios.SWI.instance("SWI_Process_USB_Input").fxn = prog.extern("process_usb_input");
bios.SWI.create("SWI_Store_USB_Input");
bios.SWI.instance("SWI_Store_USB_Input").order = 3;
bios.SWI.instance("SWI_Store_USB_Input").priority = 5;
bios.SWI.instance("SWI_Store_USB_Input").fxn = prog.extern("store_USB_Input");
bios.SWI.instance("SWI_Process_USB_Input").priority = 6;
bios.SWI.instance("SWI_Store_USB_Input").priority = 6;
bios.SWI.instance("SWI_Process_USB_Input").priority = 5;
bios.SWI.instance("SWI_Store_USB_Input").order = 1;
bios.SWI.instance("PRD_swi").order = 2;
bios.SWI.instance("KNL_swi").order = 3;
bios.SWI.instance("SWI_Process_USB_Input").order = 5;
bios.SWI.instance("SWI_Store_USB_Input").priority = 5;
bios.GBL.ENABLEINST = 1;
bios.RTDX.ENABLERTDX = 1;
bios.HST.HOSTLINKTYPE = "RTDX";
bios.MEM.instance("SARAM").len = 0x2fe00;
bios.MEM.instance("SARAM").len = 0x1fe00;
bios.MEM.instance("SARAM").createHeap = 0;
bios.TSK.instance("TSK_MUSBMainTask").order = 1;
bios.TSK.instance("TSK_idle").order = 2;
bios.TSK.instance("mainTsk").order = 3;
bios.TSK.instance("TSK_MUSBMainTask").priority = 9;
bios.MEM.TEXTSEG = prog.get("SARAM");
bios.MEM.BIOSSEG = prog.get("SARAM");
bios.MEM.SYSINITSEG = prog.get("SARAM");
bios.CLK.ENABLECLK = 1;
bios.IDL.AUTOCALCULATE = 1;
bios.PRD.USECLK = 1;
bios.LOG.instance("LOG_system").bufLen = 4096;
/* bios.HWI.instance("HWI_INT14").useDispatcher = 0; */
/* bios.HWI.instance("HWI_INT14").useDispatcher = 1;
bios.HWI.instance("HWI_INT14").interruptMask0 = "all";
bios.HWI.instance("HWI_INT14").interruptMask1 = "all"; */
/* bios.HWI.instance("HWI_INT14").interruptMask0 = "bitmask"; */
/* bios.HWI.instance("HWI_INT14").interruptBitMask0 = 0xBFFF; */
/* bios.HWI.instance("HWI_INT20").interruptMask0 = "self";
bios.HWI.instance("HWI_INT20").interruptMask1 = "self"; */
bios.STS.create("mySts1");
/* bios.STS.instance("mySts1").unitType = "High resolution time based"; */
bios.STS.instance("mySts1").operation = "Nothing";
bios.STS.create("mySts2");
/* bios.STS.instance("mySts2").unitType = "High resolution time based"; */
bios.STS.instance("mySts2").operation = "Nothing";
/* bios.HST.HOSTLINKTYPE = "NONE"; */
/* bios.RTDX.ENABLERTDX = 0; */
/* bios.GBL.ENABLEINST = 0; */
/* bios.HWI.instance("HWI_INT4").interruptMask0 = "all";
bios.HWI.instance("HWI_INT4").interruptMask1 = "all"; */
bios.MEM.NOMEMORYHEAPS = 1;
bios.MEM.STACKSIZE = 0x1000;
bios.MEM.SYSSTACKSIZE = 0x0800;
bios.MEM.STACKSEG = prog.get("DARAM");
bios.SWI.create("SWI_UserInterface");
bios.SWI.instance("SWI_UserInterface").order = 6;
bios.SWI.instance("SWI_UserInterface").priority = 5;
bios.SWI.instance("SWI_UserInterface").order = 1;
bios.SWI.instance("SWI_Process_USB_Input").order = 4;
bios.SWI.instance("SWI_Store_USB_Input").order = 5;
bios.SWI.instance("SWI_UserInterface").priority = 4;
bios.SWI.instance("SWI_UserInterface").comment = "User Interface SWI";
bios.SWI.instance("SWI_UserInterface").fxn = prog.extern("UserInterfaceSwi");
/*bios.CLK.TIMER1FUNC = prog.extern("gpt1Isr");*/
bios.TSK.instance("TSK_MUSBMainTask").order = 5;
bios.TSK.instance("TSK_idle").order = 1;
bios.TSK.instance("mainTsk").order = 2;
bios.TSK.instance("TSK_MUSBMSCTask").order = 3;
bios.TSK.instance("TSK_MUSBMainTask").order = 4;
bios.TSK.create("TSK_CodecConfig");
bios.TSK.instance("TSK_CodecConfig").order = 6;
bios.TSK.instance("TSK_CodecConfig").priority = 7;
bios.TSK.instance("TSK_CodecConfig").comment = "Reconfigure codec in reponse to USB messages";
bios.TSK.instance("TSK_CodecConfig").stackMemSeg = prog.get("SARAM");
bios.TSK.instance("TSK_CodecConfig").fxn = prog.extern("CodecConfigTask");
bios.MBX.create("MBX_codecConfig");
bios.MBX.instance("MBX_codecConfig").messageSize = 2;
bios.MBX.instance("MBX_codecConfig").length = 4;
bios.MBX.instance("MBX_codecConfig").comment = "Codec configuration mailbox";
bios.TSK.instance("TSK_MUSBMainTask").stackSize = 1024;
bios.TSK.instance("TSK_MUSBMSCTask").stackSize = 1024;
bios.TSK.instance("mainTsk").stackSize = 1024;
bios.TSK.instance("mainTsk").sysStackSize = 256;
/* bios.HWI.instance("HWI_INT15").fxn = prog.extern("i2s_rxIsr"); */
bios.HWI.instance("HWI_INT20").interruptMask0 = "bitmask";
bios.HWI.instance("HWI_INT20").interruptBitMask0 = 0x0110;
/* bios.HWI.instance("HWI_INT20").interruptMask1 = "bitmask"; */
bios.HWI.instance("HWI_INT8").interruptMask0 = "bitmask";
bios.HWI.instance("HWI_INT8").interruptBitMask0 = 0x0110;
bios.HWI.instance("HWI_INT8").interruptMask1 = "bitmask";
bios.HWI.instance("HWI_INT8").interruptBitMask1 = 0x0010;
bios.HWI.instance("HWI_INT4").interruptMask0 = "none"; /* FL: "none" provides "self" behavior for timer */
bios.HWI.instance("HWI_INT4").interruptMask1 = "none";
/* bios.HWI.instance("HWI_INT14").fxn = prog.extern("HWI_unused", "asm"); */
bios.PRD.create("poll");
bios.PRD.instance("poll").order = 1;
bios.PRD.instance("poll").fxn = prog.extern("USB_conn_poll");
bios.PRD.instance("poll").period = 5;
bios.MEM.instance("VECT").base = 0x026f80;
bios.MEM.instance("SARAM").len = 0x1ef80;
bios.MEM.create("SARAM31");
bios.MEM.instance("SARAM31").base = 0x027000;
bios.MEM.instance("SARAM31").len = 0x1000;
bios.MEM.instance("SARAM31").comment = "SARAM Block 31 - Used by bootloader";
bios.LOG.instance("trace").bufSeg = prog.get("SARAM31");
bios.PRD.instance("poll").period = 50;
bios.MBX.instance("MBX_codecConfig").messageSize = 4;
bios.SWI.instance("PRD_swi").order = 1;
bios.SWI.instance("KNL_swi").order = 2;
bios.SWI.instance("SWI_Process_USB_Input").order = 3;
bios.SWI.instance("SWI_Store_USB_Input").order = 4;
bios.SWI.instance("SWI_UserInterface").order = 5;
bios.TSK.create("TSK_RecAudioAlg");
bios.TSK.instance("TSK_RecAudioAlg").order = 7;
bios.TSK.instance("TSK_RecAudioAlg").order = 1;
bios.TSK.instance("TSK_idle").order = 2;
bios.TSK.instance("mainTsk").order = 3;
bios.TSK.instance("TSK_MUSBMSCTask").order = 4;
bios.TSK.instance("TSK_MUSBMainTask").order = 5;
bios.TSK.instance("TSK_RecAudioAlg").priority = 7;
bios.TSK.instance("TSK_CodecConfig").order = 1;
bios.TSK.instance("TSK_RecAudioAlg").order = 2;
bios.TSK.instance("TSK_idle").order = 3;
bios.TSK.instance("mainTsk").order = 4;
bios.TSK.instance("TSK_MUSBMSCTask").order = 5;
bios.TSK.instance("TSK_MUSBMainTask").order = 6;
bios.TSK.instance("TSK_CodecConfig").priority = 6;
bios.SEM.create("SEM_PingPongRxLeftComplete");
bios.SEM.create("SEM_PingPongRxRightComplete");
bios.TSK.instance("TSK_RecAudioAlg").fxn = prog.extern("RecAudioAlgTsk");
bios.TSK.instance("TSK_RecAudioAlg").comment = "Rec (Rx) audio algorithm thread";
bios.SEM.create("SEM_PingPongTxLeftComplete");
bios.SEM.create("SEM_PingPongTxRightComplete");
bios.TSK.create("TSK_PbAudioAlg");
bios.TSK.instance("TSK_PbAudioAlg").order = 7;
bios.TSK.instance("TSK_PbAudioAlg").order = 1;
bios.TSK.instance("TSK_idle").order = 2;
bios.TSK.instance("mainTsk").order = 3;
bios.TSK.instance("TSK_MUSBMSCTask").order = 4;
bios.TSK.instance("TSK_MUSBMainTask").order = 5;
bios.TSK.instance("TSK_CodecConfig").order = 6;
bios.TSK.instance("TSK_RecAudioAlg").order = 7;
bios.TSK.instance("TSK_PbAudioAlg").priority = 7;
bios.TSK.instance("TSK_PbAudioAlg").fxn = prog.extern("PbAudioAlgTsk");
bios.TSK.instance("TSK_PbAudioAlg").comment = "Pb (Tx) audio algorithm thread";
bios.SEM.instance("SEM_PingPongRxLeftComplete").comment = "Rx Left Channel Ping/Pong Transfer Complete";
bios.SEM.instance("SEM_PingPongRxRightComplete").comment = "Rx Right Channel Ping/Pong Transfer Complete";
bios.SEM.instance("SEM_PingPongTxLeftComplete").comment = "Tx Left Channel Ping/Pong Transfer Complete";
bios.SEM.instance("SEM_PingPongTxRightComplete").comment = "Tx Right Channel Ping/Pong Transfer Complete";
/*
bios.IDL.create("IDL_userIdle");
bios.IDL.instance("IDL_userIdle").order = 1;
bios.IDL.instance("IDL_userIdle").fxn = prog.extern("userIdle");
bios.IDL.instance("IDL_userIdle").calibration = 0; 
*/
bios.MEM.USERCOMMANDFILE = 1;
if (environment["BuildPlatform"]=="C5535EZDSP") {
bios.TSK.create("TSK_pmdisplay");
bios.TSK.instance("TSK_pmdisplay").order = 7;
bios.TSK.instance("TSK_pmdisplay").fxn = prog.extern("PowerDisplayTask");
bios.TSK.create("TSK_sadisplay");
bios.TSK.instance("TSK_sadisplay").order = 8;
bios.TSK.instance("TSK_sadisplay").fxn = prog.extern("SpectrumDisplayTask");
bios.SEM.create("SEM_BufferInReady");
bios.PRD.create("switch");
bios.PRD.instance("switch").order = 2;
bios.PRD.instance("switch").period = 10000;
bios.PRD.instance("switch").fxn = prog.extern("DemoSwitch");
bios.PRD.instance("switch").destroy();
bios.PRD.create("demoswitch");
bios.PRD.instance("demoswitch").order = 3;
bios.PRD.instance("demoswitch").fxn = prog.extern("DemoSwitch");
bios.PRD.instance("demoswitch").period = 10000;
bios.PRD.instance("demoswitch").period = 20000;
bios.PRD.instance("demoswitch").period = 10000;
}
/* Following changes reduce memory requirements */
/* Note: must remove calls to LOG_print for LOG trace */
bios.HST.HOSTLINKTYPE = "NONE";
bios.RTDX.ENABLERTDX = 0;
bios.GBL.ENABLEINST = 0;
bios.GBL.INSTRUMENTED = 0;
bios.GBL.ENABLEALLTRC = 0;
bios.LOG.instance("trace").destroy();
bios.LOG.instance("LOG_system").bufLen = 64;
bios.STS.instance("mySts1").destroy();
bios.STS.instance("mySts2").destroy();
bios.TSK.instance("mainTsk").stackSize = 512;
bios.TSK.instance("mainTsk").sysStackSize = 128;
bios.TSK.instance("TSK_CodecConfig").stackSize = 512;
bios.TSK.instance("TSK_CodecConfig").sysStackSize = 128;
bios.TSK.instance("TSK_MUSBMainTask").stackSize = 512;
bios.TSK.instance("TSK_MUSBMainTask").sysStackSize = 128;
bios.TSK.instance("TSK_MUSBMSCTask").stackSize = 512;
bios.TSK.instance("TSK_MUSBMSCTask").sysStackSize = 128;
bios.TSK.instance("TSK_PbAudioAlg").stackSize = 512;
bios.TSK.instance("TSK_PbAudioAlg").sysStackSize = 128;
bios.TSK.instance("TSK_RecAudioAlg").stackSize = 512;
bios.TSK.instance("TSK_RecAudioAlg").sysStackSize = 128;
bios.LOG.create("trace");
bios.LOG.instance("trace").bufSeg = prog.get("SARAM31");
bios.LOG.instance("trace").bufLen = 4096;
bios.TSK.instance("TSK_idle").order = 1;
bios.TSK.instance("mainTsk").order = 2;
bios.TSK.instance("TSK_MUSBMSCTask").order = 3;
bios.TSK.instance("TSK_MUSBMainTask").order = 4;
bios.TSK.instance("TSK_RecAudioAlg").order = 5;
bios.TSK.instance("TSK_PbAudioAlg").order = 6;
bios.TSK.instance("TSK_CodecConfig").destroy();
bios.TSK.instance("TSK_RecAudioAlg").order = 4;
bios.TSK.instance("TSK_PbAudioAlg").order = 5;
bios.TSK.instance("TSK_pmdisplay").order = 6;
bios.TSK.instance("TSK_sadisplay").order = 7;
bios.TSK.instance("TSK_MUSBMainTask").destroy();
bios.TSK.instance("TSK_RecAudioAlg").order = 3;
bios.TSK.instance("TSK_PbAudioAlg").order = 4;
bios.TSK.instance("TSK_pmdisplay").order = 5;
bios.TSK.instance("TSK_sadisplay").order = 6;
bios.TSK.instance("TSK_MUSBMSCTask").destroy();
bios.SWI.instance("SWI_UserInterface").order = 4;
bios.SWI.instance("SWI_Store_USB_Input").destroy();
bios.SWI.instance("SWI_UserInterface").order = 3;
bios.SWI.instance("SWI_Process_USB_Input").destroy();
bios.PRD.instance("demoswitch").order = 1;
bios.PRD.instance("poll").destroy();
bios.HWI.instance("HWI_INT20").fxn = prog.extern("HW", "asm");
bios.HWI.instance("HWI_INT20").fxn = prog.extern("HWI_unused", "asm");
bios.HWI.instance("HWI_INT20").useDispatcher = 0;
bios.SWI.instance("SWI_UserInterface").destroy();
bios.GBL.BOARDNAME = "c5535";
bios.TSK.instance("TSK_pmdisplay").order = 4;
bios.TSK.instance("TSK_sadisplay").order = 5;
bios.TSK.instance("TSK_PbAudioAlg").destroy();
bios.TSK.instance("TSK_sadisplay").order = 4;
bios.TSK.instance("TSK_pmdisplay").destroy();
bios.GBL.MEMORYMODEL = "HUGE";
bios.GBL.MEMORYMODEL = "LARGE";
bios.SEM.create("SEM_BufferEmpty");
bios.SEM.instance("SEM_BufferEmpty").count = 48000;
bios.SEM.create("SEM_BufferFull");
bios.SEM.instance("SEM_BufferEmpty").count = 1000;
bios.SEM.instance("SEM_BufferEmpty").count = 500;
bios.TSK.instance("TSK_sadisplay").priority = 7;
bios.TSK.instance("TSK_sadisplay").priority = 2;
bios.TSK.instance("TSK_sadisplay").priority = 7;
bios.SEM.instance("SEM_BufferEmpty").count = 250;
bios.TSK.instance("TSK_sadisplay").priority = 15;
bios.TSK.instance("TSK_sadisplay").priority = 1;
bios.TSK.instance("TSK_sadisplay").priority = 7;
bios.TSK.instance("TSK_sadisplay").order = 3;
bios.TSK.instance("TSK_RecAudioAlg").destroy();
bios.TSK.instance("TSK_sadisplay").destroy();
bios.TSK.create("TSK_DataSave");
bios.TSK.instance("TSK_DataSave").order = 4;
bios.TSK.instance("TSK_DataSave").priority = 7;
bios.TSK.instance("TSK_DataSave").fxn = prog.extern("SpectrumDisplayTask");
bios.TSK.instance("TSK_DataSave").fxn = prog.extern("DataSaveTask");
bios.SEM.create("SEM_TimerSave");
bios.PRD.instance("demoswitch").destroy();
bios.PRD.create("createnewfile");
bios.PRD.instance("createnewfile").order = 2;
bios.PRD.instance("createnewfile").fxn = prog.extern("DemoSwitch");
bios.PRD.instance("createnewfile").period = 10000;
bios.PRD.instance("createnewfile").fxn = prog.extern("CreateNewFile");
bios.PRD.instance("createnewfile").period = 32000;
bios.SEM.instance("SEM_TimerSave").count = 1;
bios.TSK.instance("TSK_DataSave").priority = 14;
// !GRAPHICAL_CONFIG_TOOL_SCRIPT_INSERT_POINT!

prog.gen();
